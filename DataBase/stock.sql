CREATE TABLE STOCK (
  STOCKNAME CHAR(50)  NOT NULL , 
  STOCKCODE CHAR(50) PRIMARY KEY);


CREATE TABLE USER (
  USERNAME CHAR(50)  PRIMARY KEY, 
  PASSWORD CHAR(50)  NOT NULL, 
  EMAIL CHAR(50) NOT NULL,
  PHONE CHAR(50));
  
  
CREATE TABLE LASTUPDATE(
  LASTUPDATETIME DATETIME PRIMARY KEY
  );
  
CREATE TABLE STOCKITEM(
 STOCKDATE DATE,
  STOCKCODE CHAR(50) NOT NULL,
  STOCKNAME CHAR(50) NOT NULL,  
  OPENPRICE FLOAT NOT NULL,
  CLOSEPRICE  FLOAT NOT NULL,
  HIGHESTPRICE FLOAT NOT NULL,
  LOWESTPRICE FLOAT NOT NULL,
  FLUCTUATEMOUNT FLOAT NOT NULL, -- 涨跌额
  FLUCTUATERATE FLOAT NOT NULL, -- 涨跌幅
  CHANGERATE FLOAT NOT NULL, -- 换手率
  TRADEVOLUME FLOAT NOT NULL, -- 成交量
  TRADEMOUNT FLOAT NOT NULL, -- 成交金额
  TOATLMARKETCAP FLOAT NOT NULL, -- 总市值
  CIRCULATIONMARKETCAP FLOAT NOT NULL -- 流通市值
  CONSTRAINT pk_a_ss PRIMARY KEY(`STOCKDATE`,`STOCKCODE`)
  );
  
  
  ALTER TABLE stockitem ADD INDEX stockitem_index ( `STOCKDATE`,`STOCKCODE` );

SELECT * FROM stockitem WHERE stockcode='002560' ORDER BY stockcode ASC, stockdate DESC 

DROP INDEX stockitem_index ON stockitem 



CREATE TABLE test (
  testname CHAR(50),
  testcode CHAR(50),
  testtext CHAR(50),
  CONSTRAINT pk_a_ss PRIMARY KEY(STOCKDATE,STOCKCODE)
  
);  

INSERT INTO test VALUES('a','b','c')
INSERT INTO test VALUES('a','d','c')
INSERT INTO test VALUES('e','b','c')

INSERT INTO test VALUES('a','b','q')
SELECT * FROM test


  
INSERT INTO Stock VALUES('通达股份','sz002560');
INSERT INTO Stock VALUES('华电国际','sh600027');
INSERT INTO Stock VALUES('国海证券','sz000750');

SELECT * FROM Stock
SELECT * FROM USER
SELECT * FROM lastupdate
SELECT * FROM STOCKITEM

ALTER  TABLE USER RENAME TO "YS"
DROP TABLE stockcode
--DROP TABLE STOCKITEM

INSERT INTO USER VALUES('test', 'test','test', 'test')

UPDATE STOCK SET STOCKNAME='江淮动力' WHERE STOCKCODE='sz000750'


DELETE  FROM stock

SELECT * FROM stock WHERE stockcode='600004'



SELECT * FROM STOCKITEM WHERE STOCKDATE='2008/12/26'

INSERT INTO STOCKITEM VALUES('2008-12-26','002560','通达股份',1,1,1,1,11,1,11,1,1,11,11);
INSERT INTO STOCKITEM VALUES(1,1,1,1,11,1,11,1,1,11,11);

SELECT * FROM STOCKITEM WHERE STOCKCODE='002560'



