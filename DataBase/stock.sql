CREATE TABLE STOCK (
  STOCKNAME CHAR(50)  NOT NULL , 
  STOCKCODE CHAR(50) PRIMARY KEY);


CREATE TABLE USER (
  USERNAME CHAR(50)  PRIMARY KEY, 
  PASSWORD CHAR(50)  NOT NULL, 
  EMAIL CHAR(50) NOT NULL,
  PHONE CHAR(50));
  
  
CREATE TABLE LASTUPDATE(
  LASTUPDATETIME DATETIME PRIMARY KEY
  );
  
CREATE TABLE STOCKITEM(
 STOCKDATE DATE NOT NULL,
  STOCKCODE CHAR(50) NOT NULL,
  STOCKNAME CHAR(50) NOT NULL,  
  OPENPRICE DOUBLE NOT NULL,
  CLOSEPRICE  DOUBLE NOT NULL,
  HIGHESTPRICE DOUBLE NOT NULL,
  LOWESTPRICE DOUBLE NOT NULL,
  FLUCTUATEMOUNT DOUBLE NOT NULL, -- 涨跌额
  FLUCTUATERATE DOUBLE NOT NULL, -- 涨跌幅
  CHANGERATE DOUBLE NOT NULL, -- 换手率
  TRADEVOLUME DOUBLE NOT NULL, -- 成交量
  TRADEMOUNT DOUBLE NOT NULL, -- 成交金额
  TOATLMARKETCAP DOUBLE NOT NULL, -- 总市值
  CIRCULATIONMARKETCAP DOUBLE NOT NULL, -- 流通市值
  CONSTRAINT pk_a_ss PRIMARY KEY(`STOCKDATE`,`STOCKCODE`)
  );
  
  
  ALTER TABLE stockitem ADD INDEX stockitem_index ( `STOCKDATE`,`STOCKCODE` );

SELECT * FROM stockitem ORDER BY stockcode ASC, stockdate DESC 

DROP INDEX stockitem_index ON stockitem 



CREATE TABLE test (
  testname CHAR(50),
  testcode CHAR(50),
  testtext CHAR(50),
  CONSTRAINT pk_a_ss PRIMARY KEY(STOCKDATE,STOCKCODE)
  
);  

INSERT INTO test VALUES('a','b','c')
INSERT INTO test VALUES('a','d','c')
INSERT INTO test VALUES('e','b','c')

INSERT INTO test VALUES('a','b','q')
SELECT * FROM test


  
INSERT INTO Stock VALUES('通达股份','sz002560');
INSERT INTO Stock VALUES('华电国际','sh600027');
INSERT INTO Stock VALUES('国海证券','sz000750');

SELECT * FROM Stock
SELECT * FROM USER
SELECT * FROM lastupdate
SELECT * FROM STOCKITEM

ALTER  TABLE USER RENAME TO "YS"
DROP TABLE stockcode
--DROP TABLE STOCKITEM

INSERT INTO USER VALUES('test', 'test','test', 'test')

UPDATE STOCK SET STOCKNAME='江淮动力' WHERE STOCKCODE='sz000750'


DELETE  FROM stock

SELECT * FROM stock WHERE stockcode='600004'



SELECT * FROM STOCKITEM WHERE STOCKDATE='2008/12/26'

INSERT INTO STOCKITEM VALUES('2008-12-26','002560','通达股份',1,1,1,1,11,1,11,1,1,11,11);
INSERT INTO STOCKITEM VALUES(1,1,1,1,11,1,11,1,1,11,11);

SELECT * FROM STOCKITEM WHERE STOCKCODE='002560'

DELETE FROM stockitem
INSERT  INTO `stockitem`(`STOCKDATE`,`STOCKCODE`,`STOCKNAME`,`OPENPRICE`,`CLOSEPRICE`,`HIGHESTPRICE`,`LOWESTPRICE`,`FLUCTUATEMOUNT`,`FLUCTUATERATE`,`CHANGERATE`,`TRADEVOLUME`,`TRADEMOUNT`,`TOATLMARKETCAP`,`CIRCULATIONMARKETCAP`) VALUES ('2014-08-08','000001','平安银行',10.53,10.54,10.62,10.46,0.04,0.381,0.8304,55565200,1204180,12041800,70524400)

SELECT * FROM STOCKITEM LIMIT 0,15 WHERE stockdate='2014/8/8'  ORDER BY FLUCTUATERATE DESC